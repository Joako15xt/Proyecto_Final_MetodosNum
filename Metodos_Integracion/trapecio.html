<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Trapecio — Integral (x-2)^2</title>
  <link rel="stylesheet" href="../estilos.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top" style="background:#6A0B1F; border:none;">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="../Integracion.html" style="color:white; font-weight:bold;">Método del Trapecio</a>
    </div>
    <ul class="nav navbar-nav navbar-right">
      <li><a style="color:white;">Humberto Joaquin Loza Fernandez</a></li>
      <li><a style="color:white;">CI: 12480310</a></li>
      <li><a style="color:white;">Lic. Brígida Carvajal Blanco</a></li>
      <li><a href="../Integracion.html" style="color:white; font-weight:bold; background:#FFD700; padding:8px 15px; border-radius:5px; margin:5px; display:inline-block; color:#6A0B1F !important;">← Volver a Integración</a></li>
    </ul>
  </div>
</nav>

<div class="container" style="margin-top:90px;">

  <h1 class="titulo">Integración por el Método del Trapecio</h1>

  <p class="descripcion">
    El método del Trapecio aproxima la integral dividiendo el intervalo en segmentos y calculando el área de trapecios
    formados por la función. Cada trapecio se obtiene uniendo los puntos de la función con líneas rectas, por lo que la
    aproximación depende de qué tan bien esas rectas se adaptan a la forma de la curva. Cuando se usa mayor número de
    trapecios, es decir, cuando se divide el intervalo en más subintervalos, la aproximación mejora debido a que la función
    se interpola con segmentos más pequeños y por tanto con menor error. En este caso calculamos la integral de
    <code>f(x) = (x-2)^2</code> en el intervalo [2,5].
  </p>

  <img src="../imgej.png" class="img-responsive" style="margin:20px auto; border:4px solid #6A0B1F; border-radius:10px;">

  <p>
    La fórmula general del trapecio indica que debemos sumar el primer valor, el último valor y dos veces los valores
    intermedios. El tamaño del paso <strong>h</strong> determina la distancia entre puntos sucesivos y se calcula como
    (b − a)/n. El término interior describe cómo los trapecios se agregan para calcular el área bajo la curva. Finalmente,
    la aproximación consiste en multiplicar el resultado por h/2.
  </p>

  <div class="capsulas">
    <span class="capsula">f(x)=(x-2)^2</span>
    <span class="capsula">Intervalo [2,5]</span>
    <span class="capsula">Método del Trapecio</span>
  </div>

  <div class="card-metodo">
    <h3>Fórmula</h3>
    <p>\[ \int_a^b f(x) dx \approx \frac{h}{2}(y_0 + y_n + 2(y_1 + y_2 + ... + y_{n-1})) \]</p>
    <p>
      Cada valor <code>y(i)</code> corresponde a evaluar la función en cada punto generado. La aproximación será mayor
      o menor según la concavidad de la función y la cantidad de subintervalos elegidos.
    </p>
  </div>

  <div class="card-metodo">
    <h3>Configuración</h3>
    <label>n:</label>
    <input id="inputN" type="number" value="6" min="2" max="50" style="width:80px;">
    <button class="btn-metodo" onclick="trapecio()">Calcular Trapecio</button>
    <div id="tablaTrap" style="margin-top:15px;"></div>
  </div>

  <div class="card-metodo">
    <h3>Resultado</h3>
    <div id="resultadoTrap"></div>
  </div>

  <div class="card-metodo">
    <h3>Gráfica</h3>
    <canvas id="graficaTrap"></canvas>
  </div>

  <p class="descripcion" style="margin-top:30px;">
    En conclusión, el Método del Trapecio proporciona una aproximación sencilla que depende directamente de líneas
    rectas, por lo que al aumentar n la estimación mejora. Sin embargo, métodos como Simpson logran una aproximación
    más refinada al utilizar curvas interpoladoras en lugar de rectas.
  </p>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function f(x){return Math.pow(x-2,2);}
function trapecio(){
 const a=2,b=5;
 const n=parseInt(inputN.value);
 const h=(b-a)/n;
 let xs=[],ys=[];
 for(let i=0;i<=n;i++){let x=a+i*h;xs.push(x);ys.push(f(x));}
 let html="<table class='table table-bordered'><tr><th>i</th><th>x</th><th>y</th></tr>";
 for(let i=0;i<=n;i++){html+=`<tr><td>${i}</td><td>${xs[i]}</td><td>${ys[i]}</td></tr>`;}
 html+="</table>";
 tablaTrap.innerHTML=html;
 let suma=0;
 for(let i=1;i<n;i++) suma+=ys[i];
 resultadoTrap.innerHTML="<b>Aprox = "+((h/2)*(ys[0]+ys[n]+2*suma)).toFixed(8)+"</b>";
 dibujar(xs,ys);
}
function dibujar(xs,ys){
 new Chart(graficaTrap,{type:'line',data:{labels:xs,datasets:[{data:ys,borderColor:'green',fill:false}]}});
}
trapecio();
</script>

<footer>
  <p>&copy; 2025 Métodos Numéricos | Desarrollado por <a href="#">joako15xt</a> | Todos los derechos reservados</p>
</footer>

</body>
</html>
